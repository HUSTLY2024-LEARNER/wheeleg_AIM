<!DOCTYPE html>
 
<html lang="en">
 
<head>
 
  <meta charset="UTF-8">
 
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
 
  <title>大数据可视化</title>
 
  <!-- 引入 ECharts -->
 
  <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
 
</head>
 
<body>
 
  <div id="main" style="width: 100%;height:600px;"></div>
 
  <script>
 
    // 初始化echarts实例
 
    var myChart = echarts.init(document.getElementById('main'));
    
    function randomData() {
      now = new Date(+now + oneDay);
      value = value + Math.random() * 21 - 10;
      return {
        name: now.toString(),
        value: [
          [now.getSeconds()].join('/'),
          Math.round(value)
        ]
      };
    }
    let data = [];
    let now = new Date();
    let oneDay = 1000;
    let value = Math.random() * 1000;
    for (var i = 0; i < 1000; i++) {
      data.push(randomData());
    }
 
 
    // 指定图表的配置项和数据
 
    option = {
      title: {
        text: 'Dynamic Data & Time Axis'
      },
      tooltip: {
        trigger: 'axis',
        formatter: function (params) {
          params = params[0];
          var date = new Date(params.name);
          return (
            date.getSeconds() +
            ' : ' +
            params.value[1]
          );
        },
        axisPointer: {
          animation: false
        }
      },
      xAxis: {
        type: 'value',
        splitLine: {
          show: false
        }
      },
      yAxis: {
        type: 'value',
        boundaryGap: [0, '100%'],
        splitLine: {
          show: false
        }
      },
      series: [
        {
          name: 'Fake Data',
          type: 'line',
          showSymbol: false,
          data: data
        }
      ]
    };
 
    // 使用刚指定的配置项和数据显示图表。
 
    myChart.setOption(option);
 
    // 模拟动态更新数据
 
    setInterval(function () {
      for (var i = 0; i < 5; i++) {
        data.shift();
        data.push(randomData());
      }
      myChart.setOption({
        series: [
          {
            data: data
          }
        ]
      });
    }, 10);
 
   </script>
 
</body>
 
</html>